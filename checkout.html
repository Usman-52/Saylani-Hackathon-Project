<!doctype html>
<html lang="en">
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Checkout - MyShop</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="bg-slate-50 text-slate-800 transition-colors duration-300">
<header class="bg-white dark:bg-slate-900 shadow">
  <div class="container mx-auto px-4 py-4 flex items-center justify-between">
    <a href="index.html" class="text-xl font-extrabold text-sky-600 dark:text-sky-400">MyShop</a>
  </div>
</header>
<main class="container mx-auto px-4 py-8 grid grid-cols-1 md:grid-cols-3 gap-6">
  <section class="md:col-span-2 bg-white dark:bg-slate-800 rounded p-6">
    <h2 class="font-bold text-lg mb-4">Shipping Information</h2>
    <form id="checkoutForm" class="space-y-4">
      <div><label class="block text-sm">Full name</label><input name="name" placeholder="Enter your full name" required class="w-full border rounded px-3 py-2 bg-white dark:bg-slate-700 dark:text-slate-100"/></div>
      <div><label class="block text-sm">Email</label><input name="email" type="email" placeholder="you@example.com" required class="w-full border rounded px-3 py-2 bg-white dark:bg-slate-700 dark:text-slate-100"/></div>
      <div><label class="block text-sm">Address</label><textarea name="address" placeholder="Street, City, ZIP" required class="w-full border rounded px-3 py-2 bg-white dark:bg-slate-700 dark:text-slate-100"></textarea></div>
      <div><label class="block text-sm">Payment type</label><select name="payment" required class="w-full border rounded px-3 py-2 bg-white dark:bg-slate-700 dark:text-slate-100"><option value="">Choose payment type</option><option value="card">Credit / Debit Card</option><option value="cod">Cash on Delivery</option></select></div>
      <div><button type="submit" class="bg-sky-600 text-white px-4 py-2 rounded">Place Order</button></div>
    </form>
    <div id="successMsg" class="hidden mt-6 bg-green-50 dark:bg-green-900/30 border-l-4 border-green-400 p-4"><strong>Success!</strong> Your order has been placed.</div>
  </section>
  <aside class="bg-white dark:bg-slate-800 rounded p-6">
    <h3 class="font-bold mb-4">Order Summary</h3>
    <div id="summaryList" class="space-y-3"></div>
    <div class="border-t pt-4 mt-4"><div class="flex justify-between font-semibold">Subtotal <span id="subTotal">$0.00</span></div>
    <div class="flex justify-between mt-2 text-sm">Discount <span id="discountAmount">-$0.00</span></div>
    <div class="flex justify-between mt-2 text-sm">Estimated delivery <span id="eta">-</span></div>
    <div class="flex justify-between font-bold mt-3">Total <span id="grandTotal">$0.00</span></div></div>
  </aside>
</main>
<div id="toastRoot" class="fixed right-4 bottom-6 z-50 space-y-2"></div>
<script type="module" src="assets/js/app.js"></script>
<script src="assets/js/toast.js"></script>
<script>
// hook form submit to show confetti and then proceed (clear cart)
document.getElementById('checkoutForm')?.addEventListener('submit', function(e){
  e.preventDefault();
  const c = getCart ? getCart() : JSON.parse(localStorage.getItem('myshop_cart_global')||'[]');
  if (!c.length){ alert('Cart is empty'); return; }
  // show success, confetti, clear cart
  document.getElementById('successMsg').classList.remove('hidden');
  confettiBurst();
  localStorage.removeItem('myshop_cart_global');
  setTimeout(()=>{ window.location.href = 'index.html'; }, 1600);
});
</script>
<script>setTimeout(()=>{ if(window.renderCheckoutSummary) window.renderCheckoutSummary(); }, 120);</script>

<footer class="bg-white dark:bg-slate-900 border-t dark:border-slate-700 mt-12">
  <div class="container mx-auto px-4 py-8 grid grid-cols-1 md:grid-cols-3 gap-6">
    <div>
      <h4 class="font-bold">MyShop</h4>
      <p class="text-sm text-slate-600 dark:text-slate-300 mt-2">Modern demo store â€” built for demos and hackathons.</p>
    </div>
    <div>
      <h4 class="font-bold">Company</h4>
      <ul class="text-sm text-slate-600 dark:text-slate-300 mt-2 space-y-1">
        <li>About</li><li>Careers</li><li>Press</li>
      </ul>
    </div>
    <div>
      <h4 class="font-bold">Support</h4>
      <ul class="text-sm text-slate-600 dark:text-slate-300 mt-2 space-y-1">
        <li>Contact: support@myshop.example</li><li>Terms</li><li>Privacy</li>
      </ul>
    </div>
  </div>
</footer>
</body>
</html>

